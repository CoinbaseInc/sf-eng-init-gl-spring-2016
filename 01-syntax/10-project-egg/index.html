<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <script type="text/egg">
       do(
            define(
                plusOne,
                fun(a, +(a, 1))
            ),
            print(plusOne(10))
        )
    </script>
    <!-- Result: 11 -->

    <script type="text/egg">
        do(
            define(
                pow,
                fun(
                    base,
                    exp,
                    if(==(exp, 0),
                        1,
                        *(base, pow(base, -(exp, 1)))
                    )
                )
            ),
            print(pow(2, 10))
        )
    </script>
    <!-- Result: 1024 -->

    <script type="text/egg">
        do(
             define(total, 0),
             define(count, 1),
             while(
                 <(count, 11),
                 do(define(total, +(total, count)),
                 define(count, +(count, 1))
              )
          ),
          print(total))
     </script>
     <!-- Result: 55 -->

     <script type="text/egg">
         do(
             define(sum, fun(
                 array,
                 do(define(i, 0),
                 define(sum, 0),
                 while(<(i, length(array)),
                     do(define(sum, +(sum, element(array, i))),
                         define(i, +(i, 1)))),
                  sum)
             )
         ),
         print(sum(array(1, 2, 3))))
     </script>
     <!-- Result: 6 -->

     <script type="text/egg">
         do(
             define(f, fun(a, fun(b, +(a, b)))
          ),
          print(f(4)(5)))
     </script>
     <!-- Result: 9 -->

     <script type="text/egg">
         do(
             define(x, 4),
             define(setx, fun(val, set(x, val))
         ),
         setx(50),
         print(x))
     </script>
     <!-- Result: 50 -->

     <script type="text/egg">
         set(quux, true)
     </script>
    <!-- Uncaught ReferenceError: Variable quux was't declared -->

</head>
<body>
    <script src="egg.js"></script>
    <script src="eggTags.js"></script>
</body>
</html>

